apply plugin: 'java'

sourceCompatibility = 1.7
targetCompatibility = 1.7

group = 'com.android.tools.build'
version = '25.2.0'

repositories {
    jcenter()
}

dependencies {
    compile 'com.android.tools.build:manifest-merger:25.2.0'
    testCompile 'junit:junit:4.12'
}

task bundle(type: Jar) {
    group = "Build"
    description = "Assembles a jar with all dependencies bundled in"

    from {
        configurations.getByName('compile').resolvedConfiguration.resolvedArtifacts.find {
            it.name in ['manifest-merger']
        }.collect {
            zipTree(it.file).matching {
                exclude 'com/android/manifmerger/ManifestMerger2**.class'
            }
        }
    }

    with jar
}

artifacts {
    archives bundle
}